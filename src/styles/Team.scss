.team-page {
  padding: 24px 48px;
  color: #fff;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
  max-width: 1400px;
  margin: 0 auto;

  .loading-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    min-height: 60vh;
    gap: 24px;

    .loading-spinner {
      width: 60px;
      height: 60px;
      border: 4px solid rgba(218, 165, 32, 0.1);
      border-top-color: goldenrod;
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }

    .loading-text {
      font-size: 18px;
      color: #d4c5a0;
      font-weight: 500;
      letter-spacing: 0.5px;
    }
  }

  .not-found-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    min-height: 60vh;
    text-align: center;
    gap: 16px;

    .not-found-icon {
      font-size: 80px;
      opacity: 0.5;
      animation: float 3s ease-in-out infinite;
    }

    h2 {
      font-size: 32px;
      font-weight: 700;
      color: #d4c5a0;
      margin: 0;
      letter-spacing: 0.5px;
    }

    p {
      font-size: 16px;
      color: #9ca3af;
      margin: 0;
      max-width: 400px;
    }
  }

  @keyframes spin {
    to {
      transform: rotate(360deg);
    }
  }

  @keyframes float {
    0%, 100% {
      transform: translateY(0);
    }
    50% {
      transform: translateY(-10px);
    }
  }

  .team-hero {
    margin-bottom: 24px;

    .team-name {
      margin: 0 auto 20px auto;
      font-size: 26px;
      font-weight: 700;
      text-align: center;
      width: 100%;
      max-width: 1200px;
      /* prefer team's primary color when provided via --team-primary, otherwise fallback to subtle gradient */
      background: var(--team-primary, linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)));
      padding: 0px 20px;
      border-radius: 12px;
      box-shadow: 0 8px 24px rgba(0,0,0,0.5);
      box-sizing: border-box;
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--team-foreground, #fff);

      .team-name-logo {
        width: 72px;
        height: 72px;
        object-fit: contain;
        margin-right: 12px;
        display: inline-block;
        filter: drop-shadow(0 4px 12px rgba(0,0,0,0.3));
      }

      .team-name-text { 
        display: inline-block;
        letter-spacing: 0.5px;
      }
    }

    .hero-content {
      display: flex;
      gap: 20px;
      align-items: stretch;
      justify-content: space-between;
      width: 100%;
      max-width: 1200px;
      margin: 0 auto;
      box-sizing: border-box;

      .hero-left {
        flex-shrink: 0;
        display: flex;
        align-items: stretch; /* stretch to match right column height for precise alignment */
        justify-content: center;

        /* make an inner wrapper that fills the column height so the logo card can match heights */
        .logo-wrap {
          display: flex;
          align-items: center;
          justify-content: center;
          width: 280px;
          height: 100%;
          max-height: 420px;
          box-sizing: border-box;
          background: linear-gradient(135deg, rgba(255,255,255,0.04) 0%, rgba(255,255,255,0.01) 100%);
          padding: 12px;
          border-radius: 16px;
          box-shadow: 0 8px 24px rgba(0,0,0,0.45);
          border: 1px solid rgba(255,255,255,0.05);
          transition: transform 0.2s ease, box-shadow 0.2s ease;

          &:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 28px rgba(0,0,0,0.5);
          }
        }

        .team-large-logo {
          width: 100%;
          max-width: 160px;
          height: auto;
          max-height: 88%;
          object-fit: contain;
          display: block;
          margin: auto;
        }
        .left-record-card { 
          width: 100%;
          background: transparent; /* let .logo-wrap provide the background */
          box-shadow: none;
          padding: 0; /* logo-wrap handles padding */
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;

          .stat-label { font-size: 12px; color: #cfc6a9; }
          .stat-value { font-size: 20px; font-weight: 800; margin-top: 6px; }
          .stat-sub { color: #bdbdbd; font-size: 12px; margin-top: 6px; font-weight: 600; }
        }
        
      }

  .hero-right {
        flex: 1 1 420px;
        max-width: 420px;
        display: flex;
        flex-direction: column;
        gap: 12px;
        justify-content: space-between; /* push record to top and GF/GA to bottom to align with logo */

        .hero-top {
          .stat-card {
            width: 100%;
            box-sizing: border-box;
          }
        }

        .hero-bottom {
          display: flex;
          gap: 12px;

          /* use explicit widths so combined GF+GA width equals the record width exactly */
          .stat-card {
            box-sizing: border-box;
            flex: none;
            width: calc((100% - 12px) / 2);
          }
        }

        .stat-card {
          background: linear-gradient(135deg, rgba(255,255,255,0.04) 0%, rgba(255,255,255,0.01) 100%);
          padding: 14px 16px;
          border-radius: 10px;
          text-align: center;
          box-shadow: 0 8px 20px rgba(0,0,0,0.4);
          display: flex;
          flex-direction: column;
          justify-content: center;
          box-sizing: border-box;
          transition: transform 0.2s ease, box-shadow 0.2s ease;
          border: 1px solid rgba(255,255,255,0.05);

          &:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 28px rgba(0,0,0,0.5);
          }

          .diff-pos { color: #4ade80; font-weight: 700; }
          .diff-neg { color: #f87171; font-weight: 700; }

          .stat-label { 
            font-size: 12px; 
            color: #d4c5a0; 
            font-weight: 500;
            letter-spacing: 0.5px;
          }
          .stat-value { 
            font-size: 18px; 
            font-weight: 700; 
            margin-top: 6px;
            letter-spacing: 0.3px;
          }
          .stat-sub { 
            color: #9ca3af; 
            font-size: 11px; 
            margin-top: 4px; 
            font-weight: 600; 
          }
        }
      }
      .hero-extra {
        display: flex;
        flex-direction: row; /* horizontal by default */
        gap: 12px;
        align-items: center;
        flex: 1;

        .power-box {
          display: flex;
          flex-direction: column;
          gap: 6px;
          padding: 14px 32px;
          flex: 1;
          border-radius: 16px;
          background: linear-gradient(135deg, rgba(255,255,255,0.04) 0%, rgba(255,255,255,0.01) 100%);
          box-shadow: 0 8px 24px rgba(0,0,0,0.45);
          border: 1px solid rgba(255,255,255,0.05);
          align-items: flex-start;
          justify-content: center;
          height: 100%;
          box-sizing: border-box;
          transition: transform 0.2s ease, box-shadow 0.2s ease;

          &:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 28px rgba(0,0,0,0.5);
          }
          .power-heading { 
            font-size: 13px; 
            color: #d4c5a0; 
            font-weight: 500; 
            margin-bottom: 8px; 
            text-align: center; 
            width: 100%;
            letter-spacing: 0.5px;
          }
          .power-row { display:flex; gap:28px; align-items:center; justify-content: center; width: 100%; }
          .power-item { 
            color: #9ca3af;
            font-size: 12px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            display: block;
            .power-caption { 
              font-size: 12px; 
              color: #d4c5a0; 
              font-weight: 500; 
              margin-top: 8px; 
              text-align: center; 
              display: block;
              letter-spacing: 0.3px;
            }
        }
        }

        .power-chart {
          width: 100px;
          height: 100px;
          border-radius: 50%;
          display: flex;
          align-items: center;
          justify-content: center;
          background: rgba(255,255,255,0.02);
          box-shadow: 0 8px 20px rgba(0,0,0,0.45);
          position: relative;
          overflow: visible;

          &::before {
            content: '';
            position: absolute;
            inset: 0;
            border-radius: 50%;
            background: var(--ring, rgba(255,255,255,0.04));
            /* mask out the center to make a ring */
            -webkit-mask: radial-gradient(circle, transparent 34px, black 34px);
            mask: radial-gradient(circle, transparent 34px, black 34px);
            z-index: 1;
            /* subtle soft shadow to give ring depth */
            box-shadow: 0 6px 18px rgba(0,0,0,0.45);
            /* extra crisp outer shadow via drop-shadow filter for browsers that support it */
            filter: drop-shadow(0 6px 12px rgba(0,0,0,0.35));
          }

          .power-inner {
            width: 68px;
            height: 68px;
            border-radius: 50%;
            background: transparent; /* inline style will set color */
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            position: relative;
            z-index: 2; /* above masked outer ring */
          }

          .power-value { font-size: 20px; font-weight: 800; color: #ffffff; }
          .power-rank { font-size: 12px; font-weight: 600; color: #bdbdbd; margin-top: 6px; }
        }
      }
    }
  }

  /* Tablet and smaller desktop screens */
  @media (max-width: 1100px) {
    .team-hero {
      .hero-content {
        flex-wrap: wrap;
        
        .hero-left {
          .logo-wrap {
            width: 240px;
            height: 189px;
          }
        }

        .hero-right {
          flex: 1 1 360px;
          max-width: none;
        }

        .hero-extra {
          flex: 1 1 100%;
          width: 100%;
          
          .power-box {
            padding: 14px 20px;
          }
        }
      }
    }
  }

  /* Mobile and small tablets */
  @media (max-width: 768px) {
    padding: 16px 20px;

    .team-hero {
      .team-name { 
        font-size: 22px; 
        padding: 10px 16px;
        
        .team-name-logo { 
          width: 48px; 
          height: 48px; 
          margin-right: 10px;
        }
      }
      
      .hero-content {
        flex-direction: column;
        gap: 16px;

        .hero-left {
          width: 100%;
          
          .logo-wrap { 
            width: 100%; 
            height: 100px; 
            padding: 20px;
          }
        }

        .hero-right {
          width: 100%;
          max-width: none;
          flex: 1 1 auto;
          
          .hero-top .stat-card {
            padding: 12px 14px;
          }
          
          .hero-bottom .stat-card {
            padding: 12px 14px;
          }
        }
        
        .hero-extra { 
          width: 100%;
          
          .power-box {
            padding: 14px 16px;
            
            .power-row {
              gap: 20px;
            }
            
            .power-chart {
              width: 85px;
              height: 85px;
              
              &::before {
                -webkit-mask: radial-gradient(circle, transparent 29px, black 29px);
                mask: radial-gradient(circle, transparent 29px, black 29px);
              }
              
              .power-inner {
                width: 58px;
                height: 58px;
              }
              
              .power-value { font-size: 18px; }
              .power-rank { font-size: 11px; margin-top: 4px; }
            }
          }
        }
      }
    }
    
    .team-projections {
      .projections-cards {
        gap: 12px;
        
        .proj-card {
          min-width: 160px;
          flex: 1 1 calc(50% - 6px);
          padding: 14px 12px;
          
          .label { font-size: 11px; }
          .big { font-size: 20px; margin-top: 6px; }
        }
      }
    }
  }

  /* Extra small mobile devices */
  @media (max-width: 480px) {
    padding: 12px 16px;
    
    .team-hero {
      .team-name {
        font-size: 20px;
        padding: 8px 12px;
        
        .team-name-logo {
          width: 40px;
          height: 40px;
          margin-right: 8px;
        }
      }
      
      .hero-content {
        gap: 12px;
        
        .hero-left {
          .logo-wrap {
            padding: 16px;
            min-height: 180px;
          }
        }
        
        .hero-right {
          .stat-card {
            .stat-label { font-size: 11px; }
            .stat-value { font-size: 16px; }
            .stat-sub { font-size: 10px; }
          }
        }
        
        .hero-extra {
          .power-box {
            padding: 12px;
            
            .power-heading { font-size: 12px; margin-bottom: 6px; }
            
            .power-row {
              gap: 16px;
              flex-wrap: wrap;
            }
            
            .power-chart {
              width: 75px;
              height: 75px;
              
              &::before {
                -webkit-mask: radial-gradient(circle, transparent 26px, black 26px);
                mask: radial-gradient(circle, transparent 26px, black 26px);
              }
              
              .power-inner {
                width: 52px;
                height: 52px;
              }
              
              .power-value { font-size: 16px; }
              .power-rank { font-size: 10px; margin-top: 3px; }
            }
            
            .power-item .power-caption {
              font-size: 11px;
              margin-top: 6px;
            }
          }
        }
      }
    }
    
    .team-projections {
      margin: 20px 0 24px 0;
      
      h2 { font-size: 20px; margin-bottom: 12px; }
      
      .projections-cards {
        gap: 10px;
        
        .proj-card {
          min-width: 140px;
          flex: 1 1 100%;
          padding: 12px 10px;
          
          .label { font-size: 10px; }
          .big { font-size: 18px; margin-top: 5px; }
        }
      }
    }
    
    .team-roster {
      h2 { font-size: 20px; margin-bottom: 12px; }
      
      .roster-grid {
        gap: 16px;
        
        .roster-section {
          padding: 16px;
          
          h3 { font-size: 16px; margin-bottom: 12px; }
          
          .player-grid {
            grid-template-columns: 1fr;
            gap: 12px;
            
            .player-card {
              padding: 10px;
              
              .player-avatar {
                width: 50px;
                height: 50px;
                flex: 0 0 50px;
              }
              
              img {
                width: 50px;
                height: 50px;
              }
              
              .player-info {
                .player-name { font-size: 14px; }
                .player-sub { font-size: 11px; gap: 6px; }
              }
              
              .player-stats {
                gap: 12px;
                margin-top: 10px;
                padding-top: 8px;
                
                .stat {
                  min-width: 35px;
                  
                  .stat-num { font-size: 15px; }
                  .stat-label { font-size: 9px; }
                }
              }
            }
          }
        }
      }
    }
  }

  .team-roster {
    h2 { 
      margin-bottom: 16px; 
      font-size: 22px;
      font-weight: 700;
      letter-spacing: 0.5px;
    }

    .roster-grid {
      display: grid;
      grid-template-columns: 1fr;
      gap: 20px;

      .roster-section { 
        background: linear-gradient(135deg, rgba(255,255,255,0.03) 0%, rgba(255,255,255,0.01) 100%);
        padding: 20px;
        border-radius: 12px;
        box-shadow: 0 8px 24px rgba(0,0,0,0.3);
        border: 1px solid rgba(255,255,255,0.05);

        h3 { 
          margin-top: 0;
          font-size: 18px;
          font-weight: 700;
          margin-bottom: 14px;
          color: #d4c5a0;
          letter-spacing: 0.5px;
        }

        .player-grid {
          display: grid;
          grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
          gap: 14px;

          .player-card {
            background: linear-gradient(135deg, rgba(0,0,0,0.35) 0%, rgba(0,0,0,0.25) 100%);
            padding: 12px;
            border-radius: 10px;
            display: flex;
            flex-direction: column;
            align-items: stretch;
            text-align: left;
            transition: transform 0.2s ease, box-shadow 0.2s ease, background 0.2s ease, border-color 0.2s ease;
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
            border: 1px solid rgba(255,255,255,0.05);
            cursor: pointer;

            &:hover {
              transform: translateY(-4px);
              box-shadow: 0 8px 24px rgba(0,0,0,0.5);
              background: linear-gradient(135deg, rgba(0,0,0,0.4) 0%, rgba(0,0,0,0.3) 100%);
              border-color: rgba(255,255,255,0.24);
            }

            &:active {
              transform: translateY(-2px);
            }

            .player-top {
              display: flex;
              gap: 12px;
              align-items: center;
            }

            .player-avatar {
              width: 60px;
              height: 60px;
              border-radius: 50%;
              display: flex;
              align-items: center;
              justify-content: center;
              overflow: hidden;
              box-shadow: 0 6px 16px rgba(0,0,0,0.5);
              flex: 0 0 60px;
              background: var(--team-primary, rgba(255,255,255,0.05));
              transition: transform 0.2s ease;
            }

            &:hover .player-avatar {
              transform: scale(1.05);
            }

            img { 
              width: 60px; 
              height: 60px; 
              border-radius: 50%; 
              object-fit: cover; 
              display: block; 
              border: none; 
            }

            .player-info {
              display: flex;
              flex-direction: column;
              gap: 6px;
              flex: 1 1 auto;

              .player-name { 
                font-weight: 700; 
                font-size: 15px; 
                color: #ffffff; 
                white-space: nowrap; 
                overflow: hidden; 
                text-overflow: ellipsis;
                letter-spacing: 0.3px;
              }
              .player-sub { 
                display: flex; 
                gap: 8px; 
                align-items: center; 
                color: #d4c5a0; 
                font-size: 12px; 
              }
              .player-sub .player-number { font-weight: 700; color: #fbbf24; }
              .player-sub .player-pos { text-transform: uppercase; font-weight: 600; }
              .player-sub .player-country, .player-sub .player-age { opacity: 0.9; }
            }

            .player-stats {
              margin-top: 12px;
              padding-top: 10px;
              border-top: 1px solid rgba(255,255,255,0.08);
              display: flex;
              gap: 16px;
              align-items: center;
              justify-content: space-around;

              .stat {
                display: flex;
                flex-direction: column;
                align-items: center;
                gap: 3px;
                min-width: 40px;

                .stat-num { 
                  font-size: 17px; 
                  color: #ffffff; 
                  letter-spacing: 0.5px;
                  font-weight: 700;
                }
                .stat-label { 
                  font-size: 10px; 
                  color: #9ca3af; 
                  text-transform: uppercase; 
                  letter-spacing: 1px;
                  font-weight: 600;
                }
              }
            }
          }

          .goalie-card .player-avatar { width: 88px; height: 88px; }
          .goalie-card img { width: 84px; height: 84px; }
        }
      }
    }
  }
}

@media (min-width: 900px) {
  .team-page .team-roster .roster-grid { grid-template-columns: 1fr; }
}

.team-projections {
  margin: 24px 0 28px 0;

  h2 {
    font-size: 22px;
    font-weight: 700;
    margin-bottom: 16px;
    letter-spacing: 0.5px;
  }

  .projections-cards {
    display: flex;
    gap: 16px;
    flex-wrap: wrap;

    .proj-card {
      background: linear-gradient(135deg, rgba(255,255,255,0.04) 0%, rgba(255,255,255,0.01) 100%);
      padding: 16px;
      border-radius: 12px;
      min-width: 200px;
      flex: 1 1 240px;
      box-shadow: 0 8px 24px rgba(0,0,0,0.4);
      border: 1px solid rgba(255,255,255,0.05);
      transition: transform 0.2s ease, box-shadow 0.2s ease;

      &:hover {
        transform: translateY(-4px);
        box-shadow: 0 12px 32px rgba(0,0,0,0.5);
      }

      .label { 
        color: #d4c5a0; 
        font-size: 12px;
        font-weight: 500;
        letter-spacing: 0.5px;
      }
      .big { 
        font-size: 22px; 
        font-weight: 700; 
        margin-top: 8px;
        letter-spacing: 0.5px;
      }
      .sub { 
        color: #9ca3af; 
        margin-top: 6px; 
        font-weight: 600;
        font-size: 12px;
      }
      .rank { 
        display: inline-block; 
        background: rgba(251,191,36,0.15); 
        color: #fbbf24; 
        padding: 4px 10px; 
        border-radius: 8px; 
        margin-left: 8px; 
        font-weight: 700;
      }
    }

    .leader-card .leading { display: flex; gap: 12px; align-items: center; }
  .player-avatar.lead-avatar { width: 64px; height: 64px; }
  .player-avatar.lead-avatar img.lead-headshot { width: 60px; height: 60px; border-radius: 50%; object-fit: cover; }
    .lead-name { font-weight: 700; }
    .lead-p { color: #bdbdbd; }
  }
}

